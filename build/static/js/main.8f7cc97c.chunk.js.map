{"version":3,"sources":["api/leaderboards.js","audio/tone.js","contexts/GameContext.js","controllers/playerController.js","components/Player/Player.js","components/Tail/Tail.js","components/Pickup/Pickup.js","components/ScoreBoard/ScoreBoard.js","components/GameBoard/GameBoard.js","components/Controls/Controls.js","components/Modal/Modal.js","components/Field/Field.js","components/Tutorial/Tutorial.js","components/LeaderBoard/LeaderBoard.js","components/VolumeControls/VolumeControls.js","components/App.js","index.js"],"names":["axios","create","baseURL","synth","Tone","Synth","oscillator","type","modulationType","modulationIndex","harmonicity","envelope","attack","decay","sustain","release","toMaster","volume","value","setSynthVolume","trigger","note","triggerAttackRelease","Context","createContext","config","isMuted","fetchLeaderboards","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","response","wrap","_context","prev","next","leaderboards","get","sent","abrupt","data","stop","this","apply","arguments","gameOverConditions","_ref2","playerHeadPosition","boardSize","gridBlockSize","playerDirection","tailArr","x","y","i","length","id","scoreConditions","state","pickupPosition","getRandomCoords","Math","round","random","gridArr","INITIAL_STATE","isOnMobile","isGameOver","showMenu","score","gridRowNumItems","pickupValue","playerName","leaderBoards","fps","interval","now","Date","then","GameContextStore","_React$Component","_getPrototypeOf2","_this","classCallCheck","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","concat","setBorders","_ref3","_callee2","gameBoardBorders","_context2","setState","generateGrid","_x","_callee3","j","_context3","push","setBoardSize","window","innerHeight","innerWidth","setPlayerDirection","centerPlayerPosition","centerPosition","setPickupPosition","generateTailArr","indexOf","toConsumableArray","shift","setShowMenu","setPlayerName","testIsOnMobile","test","navigator","userAgent","startAnimation","step","stopAnimation","cancelAnimationFrame","_callee4","_playerHeadPosition","_playerHeadPosition2","_playerHeadPosition3","_context4","requestAnimationFrame","reset","muteAudio","adjustAudioVolume","_callee5","_context5","name","post","t0","inherits","createClass","key","_this2","addEventListener","react_default","createElement","Provider","objectSpread","props","children","React","Component","keyboardController","event","prevDirection","which","touchController","command","Player","handleInput","e","context","input","renderPlayerPosition","gridBlock","className","style","width","height","position","left","top","contextType","GameContext","Tail","renderTail","map","tailBlock","index","Pickup","ScoreBoard","GameBoard","ref","divElement","margin","components_ScoreBoard_ScoreBoard","components_Pickup_Pickup","components_Tail_Tail","components_Player_Player","Controls","handleUserInput","cmd","renderControls","onTouchStart","Modal","Fragment","minHeight","textAlign","href","onClick","renderModal","Field","htmlFor","placeholder","onChange","target","maxLength","Tutorial","LeaderBoard","background","item","_id","color","borderRadius","letterSpacing","renderLeaderBoards","VolumeControls","renderCheckBox","checked","max","App","GameContext_GameContextStore","components_GameBoard_GameBoard","components_Controls_Controls","components_Modal_Modal","components_Field_Field","components_Tutorial_Tutorial","components_VolumeControls_VolumeControls","components_LeaderBoard_LeaderBoard","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.8f7cc97c.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://afternoon-earth-75642.herokuapp.com/'\r\n});","import Tone from 'tone';\r\n\r\nvar synth = new Tone.Synth({\r\n    oscillator: {\r\n        type: 'pwm',\r\n        modulationType: 'sawtooth',\r\n        modulationIndex: 3,\r\n        harmonicity: 3.4\r\n    },\r\n    envelope: {\r\n        attack: 0.003,\r\n        decay: 0.2,\r\n        sustain: 0.01,\r\n        release: 0.01\r\n    },\r\n}).toMaster()\r\n\r\nsynth.volume.value = 0;\r\n\r\nexport const setSynthVolume = value => {\r\n    return synth.volume.value = value * 0.5;\r\n}\r\n\r\nexport const trigger = (note) => {\r\n    synth.triggerAttackRelease(note, 0.1);\r\n}\r\n\r\nexport default synth;","import React, {createContext} from 'react';\r\nimport leaderboards from '../api/leaderboards';\r\nimport axios from 'axios';\r\nimport { trigger, setSynthVolume } from '../audio/tone';\r\nconst Context = createContext();\r\n\r\nconst config = {\r\n    isMuted: false,\r\n    volume: -10\r\n}\r\n\r\nconst fetchLeaderboards = async () => {\r\n    const response = await leaderboards.get('/leaderboards');\r\n    return response.data;\r\n}\r\n\r\nconst gameOverConditions = ({playerHeadPosition, boardSize, gridBlockSize, playerDirection, tailArr}) => {\r\n    if(!playerHeadPosition){\r\n        return true;\r\n    }\r\n    \r\n    // Bounds Conditions\r\n    if(playerHeadPosition.x <= 0 && playerDirection.x === -1){\r\n        return true;\r\n    }\r\n    if(playerHeadPosition.x + gridBlockSize + 1 >= boardSize && playerDirection.x === 1){\r\n        return true;\r\n    }\r\n    if(playerHeadPosition.y <= 0 && playerDirection.y < 0){\r\n        return true;\r\n    }\r\n    if(playerHeadPosition.y + gridBlockSize  >= boardSize && playerDirection.y > 0){\r\n        return true;\r\n    }\r\n    // Tail Conditions\r\n    for(let i = 0; i < tailArr.length - 2; i++){\r\n        if(tailArr[i] === playerHeadPosition.id){\r\n            return true;\r\n        }\r\n    }\r\n}\r\nconst scoreConditions = state => {\r\n    if(state.playerHeadPosition && state.playerHeadPosition.id === state.pickupPosition.id){\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nconst getRandomCoords = state => {\r\n    const i = Math.round(Math.random() * state.gridArr.length);\r\n    return state.gridArr[i];\r\n}\r\n\r\nconst INITIAL_STATE = {\r\n    isOnMobile: false,\r\n    isGameOver: true,\r\n    showMenu: true,\r\n    score: 0,\r\n    boardSize: 300,\r\n    gridBlockSize: 25,\r\n    gridRowNumItems: 0,\r\n    gridArr: [],\r\n    playerDirection: {x: 0, y: 0},\r\n    playerHeadPosition: {x: 0, y: 0, id: 0},\r\n    pickupPosition: {x: 0, y: 0, id: 0},\r\n    pickupValue: 1,\r\n    tailArr: [],\r\n    playerName: \"Player 1\",\r\n    leaderBoards: [],\r\n    fps: 10,\r\n    interval: null,\r\n    now: Date.now(),\r\n    then: null,\r\n    isMuted: config.isMuted,\r\n    volume: config.volume\r\n}\r\n\r\nexport class GameContextStore extends React.Component{\r\n    state = INITIAL_STATE;\r\n    setBorders = async gameBoardBorders => {\r\n        await this.setState({gameBoardBorders});\r\n        this.generateGrid();\r\n    }\r\n    generateGrid = async () => {\r\n        const gridRowNumItems = Math.round(this.state.boardSize / this.state.gridBlockSize);\r\n        const gridArr = [];\r\n        for(let i = 0; i <= gridRowNumItems -1; i++){\r\n            for(let j = 0; j <= gridRowNumItems -1; j++){\r\n                let y = i * this.state.gridBlockSize;\r\n                let x = j * this.state.gridBlockSize;\r\n                gridArr.push({x, y, id: gridArr.length});\r\n            }\r\n        }\r\n        this.setState({gridArr, gridRowNumItems});\r\n    }\r\n    setBoardSize = () => {\r\n        if(window.innerHeight > window.innerWidth){\r\n            const boardSize = Math.round(window.innerWidth * 99 / 100);\r\n            this.setState({boardSize});\r\n        } else {\r\n            const boardSize = Math.round(window.innerHeight * 99 / 100);\r\n            this.setState({boardSize});\r\n        }\r\n    }\r\n    setPlayerDirection = (playerDirection) => {\r\n        this.setState({playerDirection});\r\n    }\r\n    centerPlayerPosition = () => {\r\n        const centerPosition = Math.round(this.state.gridArr.length / 2) + Math.round(this.state.gridBlockSize / 2);\r\n        this.setState({playerHeadPosition: this.state.gridArr[centerPosition + 12]});\r\n    }\r\n    setPickupPosition = () => {\r\n        let pickupPosition = getRandomCoords(this.state);\r\n        // Prevent pickup spawning in tail\r\n        if(pickupPosition && pickupPosition.id in this.state.tailArr ){\r\n            this.setPickupPosition();\r\n        } else {\r\n            this.setState({pickupPosition});\r\n        }\r\n    }\r\n    generateTailArr = () => {\r\n        if(!this.state.playerHeadPosition){\r\n            return;\r\n        }\r\n        if(!this.state.tailArr.indexOf(this.state.playerHeadPosition.id)){\r\n            const tailArr = [ ...this.state.tailArr, this.state.playerHeadPosition.id ];\r\n            if(tailArr.length > this.state.score){\r\n                tailArr.shift();\r\n            }\r\n        }\r\n        const tailArr = [ ...this.state.tailArr, this.state.playerHeadPosition.id ];\r\n        if(tailArr.length > this.state.score){\r\n            tailArr.shift();\r\n        }\r\n        this.setState({tailArr});\r\n    }\r\n    setShowMenu = () => {\r\n        if(this.state.showMenu){\r\n            this.setState({showMenu: false});\r\n        } else {\r\n            this.setState({showMenu: true});\r\n        }\r\n    }\r\n    setPlayerName = playerName => {\r\n        INITIAL_STATE.playerName = playerName;\r\n        this.setState({playerName, isGameOver: false});\r\n    }\r\n    testIsOnMobile = () => {\r\n        // device detection\r\n        if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {\r\n            this.setState({isOnMobile: true});\r\n        } else {\r\n            this.setState({isOnMobile: false});\r\n        }\r\n    }\r\n    startAnimation = () => {\r\n        this.setState({interval: 1000 / this.state.fps, then: Date.now()})\r\n        this.step();\r\n    }\r\n    stopAnimation = () => {\r\n        window.cancelAnimationFrame(this.step);\r\n    }\r\n    step = async () => {\r\n        window.requestAnimationFrame(this.step);\r\n        if(this.state.showMenu){\r\n            return;\r\n        }\r\n        this.setState({now: Date.now()});\r\n        let elpased = this.state.now - this.state.then;\r\n        if(elpased > this.state.interval){\r\n            this.setState({then: this.state.now})\r\n            if(gameOverConditions(this.state)){\r\n                if(!this.state.isMuted){\r\n                    trigger(\"D3\");\r\n                }\r\n                return this.reset();\r\n            }\r\n            \r\n            if(scoreConditions(this.state)){\r\n                const score = this.state.score + this.state.pickupValue;\r\n                if(!this.state.isMuted){\r\n                    trigger(\"D4\");\r\n                }\r\n                this.setPickupPosition()\r\n                this.setState({score});\r\n            }\r\n            if(this.state.playerDirection.y === -1){\r\n                const playerHeadPosition = this.state.gridArr[this.state.playerHeadPosition.id - this.state.gridRowNumItems]\r\n                this.setState({playerHeadPosition});\r\n                this.generateTailArr();\r\n            }\r\n            if(this.state.playerDirection.y === 1){\r\n                const playerHeadPosition = this.state.gridArr[this.state.playerHeadPosition.id + this.state.gridRowNumItems]\r\n                this.setState({playerHeadPosition});\r\n                this.generateTailArr();\r\n            }\r\n            if(this.state.playerDirection.x === -1){\r\n                const playerHeadPosition = this.state.gridArr[this.state.playerHeadPosition.id - 1]\r\n                await this.setState({playerHeadPosition});\r\n                this.generateTailArr();\r\n            }\r\n            if(this.state.playerDirection.x === 1){\r\n                const playerHeadPosition = this.state.gridArr[this.state.playerHeadPosition.id + 1]\r\n                this.setState({playerHeadPosition});\r\n                this.generateTailArr();\r\n            }\r\n        }\r\n    }\r\n    muteAudio = () => {\r\n        if(this.state.isMuted){\r\n            config.isMuted = false;\r\n            this.setState({ isMuted: false });\r\n        } else {\r\n            config.isMuted = true;\r\n            this.setState({ isMuted: true });\r\n        }\r\n    }\r\n    adjustAudioVolume = value => {\r\n        const volume = this.state.volume + value\r\n        if(volume >= -60 && volume <= 40){\r\n            INITIAL_STATE.volume = volume;\r\n            setSynthVolume(volume);\r\n            this.setState({volume});\r\n        }\r\n    }\r\n    reset = async () => {\r\n        this.stopAnimation();\r\n        if(this.state.score > 0){\r\n            const data = {name:this.state.playerName, score:this.state.score};\r\n            await axios.post('https://afternoon-earth-75642.herokuapp.com/leaderboards', data);\r\n        }\r\n        await this.setState(INITIAL_STATE);\r\n        await this.setState({isMuted: config.isMuted});\r\n        fetchLeaderboards().then((leaderBoards)=>{\r\n            this.setState({leaderBoards});\r\n        });\r\n        await this.testIsOnMobile();\r\n        await this.setBoardSize();\r\n        const gridBlockSize = await this.state.boardSize / 20;\r\n        await this.setState({gridBlockSize});\r\n        await this.generateGrid();\r\n        await this.setPickupPosition();\r\n        await this.setState({playerDirection: {x:0, y:0}});\r\n        await this.centerPlayerPosition();\r\n        this.startAnimation();\r\n    }\r\n    componentDidMount(){\r\n        window.addEventListener('resize', () => { this.reset()});\r\n        this.reset();\r\n    }\r\n    render(){\r\n        return(\r\n            <Context.Provider \r\n            value={{ \r\n                ...this.state,\r\n                setBorders: this.setBorders,\r\n                setPlayerDirection: this.setPlayerDirection,\r\n                setShowMenu: this.setShowMenu,\r\n                setPlayerName: this.setPlayerName,\r\n                muteAudio: this.muteAudio,\r\n                adjustAudioVolume: this.adjustAudioVolume\r\n            }}>\r\n            {this.props.children}\r\n            </Context.Provider>\r\n            )\r\n        }\r\n    }\r\n    \r\n    export default Context;\r\n    \r\n    ","export const keyboardController = (event, prevDirection,playerHeadPosition, gridRowNumItems) => {\r\n    switch(event.which){\r\n        case 87:\r\n            if(prevDirection.y !== 0){\r\n                return prevDirection\r\n            } else {\r\n                return { x: 0, y: -1, id: playerHeadPosition.id - gridRowNumItems - 1 }\r\n            }\r\n        case 83:\r\n            if(prevDirection.y !== 0){\r\n                return prevDirection\r\n            } else {\r\n                return { x: 0, y: 1, id: playerHeadPosition.id + gridRowNumItems + 1}\r\n            }\r\n        case 65:\r\n            if(prevDirection.x !== 0){\r\n                return prevDirection\r\n            } else {\r\n                return { x: -1, y: 0, id: playerHeadPosition.id - 1 }\r\n            }\r\n        case 68:\r\n            if(prevDirection.x !== 0){\r\n                return prevDirection\r\n            } else {\r\n                return { x: 1, y: 0, id: playerHeadPosition.id + 1 }\r\n            }\r\n        default: return prevDirection;\r\n    }\r\n}\r\n\r\nexport const touchController = (command, prevDirection,playerHeadPosition, gridRowNumItems) => {\r\n    switch(command){\r\n        case \"UP\":\r\n            if(prevDirection.y !== 0){\r\n                return prevDirection\r\n            }\r\n            return { x: 0, y: -1, id: playerHeadPosition.id - gridRowNumItems - 1 }\r\n        case \"DOWN\":\r\n            if(prevDirection.y !== 0){\r\n                return prevDirection\r\n            }\r\n            return { x: 0, y: 1, id: playerHeadPosition.id + gridRowNumItems + 1}\r\n        case \"LEFT\":\r\n            if(prevDirection.x !== 0){\r\n                return prevDirection\r\n            }\r\n            return { x: -1, y: 0, id: playerHeadPosition.id - 1 }\r\n        case \"RIGHT\":\r\n            if(prevDirection.x !== 0){\r\n                return prevDirection\r\n            }\r\n            return { x: 1, y: 0, id: playerHeadPosition.id + 1 }\r\n        default: return prevDirection;\r\n    }\r\n}","import React from 'react';\r\nimport GameContext from '../../contexts/GameContext';\r\nimport './Player.css';\r\nimport { keyboardController } from '../../controllers/playerController';\r\n\r\nclass Player extends React.Component{\r\n    handleInput = (e) => {\r\n        if(!this.context.showMenu){\r\n            const input = keyboardController(e, this.context.playerDirection, this.context.playerHeadPosition, this.context.gridRowNumItems )\r\n            if(input.id){\r\n                this.context.setPlayerDirection({x: input.x, y: input.y});\r\n            }\r\n        } else {\r\n            this.context.setPlayerDirection({x: 0, y: 0});\r\n        }\r\n    }\r\n    renderPlayerPosition = () => {\r\n        if(!this.context.playerHeadPosition){\r\n            return <div></div>\r\n        }\r\n        const gridBlock = this.context.gridArr[this.context.playerHeadPosition.id]\r\n        if(gridBlock && gridBlock.id){\r\n            return gridBlock;\r\n        } else {\r\n            return this.context.playerHeadPosition\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        window.addEventListener('keydown', (e) => { this.handleInput(e) })\r\n    }\r\n    render(){\r\n        return(\r\n            <div \r\n            className=\"nes-btn is-primary\"\r\n            style={{\r\n                width: this.context.gridBlockSize,\r\n                height: this.context.gridBlockSize,\r\n                position: \"absolute\",\r\n                left: this.renderPlayerPosition().x,\r\n                top: this.renderPlayerPosition().y\r\n            }}\r\n            ></div>\r\n        )\r\n    }\r\n}\r\n\r\nPlayer.contextType = GameContext;\r\nexport default Player;","import React from 'react';\r\nimport GameContext from '../../contexts/GameContext';\r\nimport './Tail.css';\r\n// \r\nclass Tail extends React.Component{\r\n    renderTail = tailArr => {\r\n        return tailArr.map((tailBlock, index) => {\r\n            if(tailBlock === tailBlock[tailArr.length]){\r\n                return <div></div>\r\n            } else {\r\n                return <div \r\n                className=\"nes-btn is-warning\"\r\n                key={index}\r\n                style={{\r\n                    height: this.context.gridBlockSize,\r\n                    width: this.context.gridBlockSize,\r\n                    position: \"absolute\",\r\n                    top: this.context.gridArr[tailBlock].y,\r\n                    left: this.context.gridArr[tailBlock].x\r\n                }}\r\n                ></div>\r\n            }\r\n        });\r\n    }\r\n    render(){\r\n        return(\r\n            <div>{this.renderTail(this.context.tailArr)}</div>\r\n            )\r\n        }\r\n    }\r\n    \r\n    Tail.contextType = GameContext;\r\n    export default Tail;","import React from 'react';\r\nimport GameContext from '../../contexts/GameContext';\r\nimport '../Pickup/Pickup.css';\r\n\r\n\r\nclass Pickup extends React.Component{\r\n    render(){\r\n        return(\r\n            <div \r\n            className=\"nes-btn is-success\" \r\n            style={{\r\n                width: this.context.gridBlockSize, \r\n                height: this.context.gridBlockSize,\r\n                position:\"absolute\",\r\n                top: this.context.pickupPosition.y,\r\n                left: this.context.pickupPosition.x\r\n            }}></div>\r\n        )\r\n    }\r\n}\r\n\r\nPickup.contextType = GameContext;\r\nexport default Pickup;","import React from 'react';\r\nimport GameContext from '../../contexts/GameContext';\r\n\r\nclass ScoreBoard extends React.Component{\r\n    render(){\r\n        return(\r\n            <div \r\n            className=\"nes-container is-rounded\"\r\n            style={{width: \"fit-content\"}}\r\n            ><h5>{this.context.playerName}</h5>\r\n            SCORE: {this.context.score}</div>\r\n        )\r\n    }\r\n}\r\n\r\nScoreBoard.contextType = GameContext;\r\nexport default ScoreBoard;","import React from 'react';\r\nimport GameContext from '../../contexts/GameContext';\r\nimport './GameBoard.css';\r\n\r\n// import GameGrid from '../GameGrid/GameGrid';\r\nimport Player from '../Player/Player';\r\nimport Tail from '../Tail/Tail';\r\nimport Pickup from '../Pickup/Pickup';\r\nimport ScoreBoard from '../ScoreBoard/ScoreBoard';\r\n\r\nclass GameBoard extends React.Component{\r\n    render(){\r\n        return(\r\n            <div \r\n            ref={(divElement) => this.divElement = divElement}\r\n            className=\"nes-container is-dark is-rounded\"\r\n            style={{width: this.context.boardSize, height: this.context.boardSize, margin: \"0\"}}\r\n            >\r\n                {/* <GameGrid /> */}\r\n                <ScoreBoard />\r\n                <Pickup />\r\n                <Tail />\r\n                <Player />\r\n            </div>\r\n        )\r\n    };\r\n};\r\n\r\nGameBoard.contextType = GameContext;\r\nexport default GameBoard;","import React from 'react';\r\nimport GameContext from '../../contexts/GameContext';\r\nimport \"./Controls.css\";\r\nimport { touchController } from '../../controllers/playerController';\r\n\r\nclass Controls extends React.Component{\r\n    handleUserInput = (cmd) => {\r\n        const input = touchController(cmd, this.context.playerDirection, this.context.playerHeadPosition, this.context.gridRowNumItems )\r\n            if(input.id){\r\n                this.context.setPlayerDirection({x: input.x, y: input.y})\r\n            }\r\n    }\r\n    renderControls = () => {\r\n        if(!this.context.isOnMobile || this.context.showMenu){\r\n            return <div></div>\r\n        }\r\n        return(\r\n            <table className=\"nes-table is-bordered is-centered is-dark controls-table\" style={{width: this.context.boardSize}}>\r\n                <tbody>\r\n                    <tr>\r\n                        <td></td>\r\n                        <td><button onTouchStart={() => {this.handleUserInput(\"UP\")}} className=\"nes-btn is-primary up controls-btn\">↑</button></td>\r\n                        <td></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td><button onTouchStart={() => {this.handleUserInput(\"LEFT\")}} className=\"nes-btn is-primary left controls-btn\">←</button></td>\r\n                        <td></td>\r\n                        <td><button onTouchStart={() => {this.handleUserInput(\"RIGHT\")}} className=\"nes-btn is-primary right controls-btn\">→</button></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td></td>\r\n                        <td><button onTouchStart={() => {this.handleUserInput(\"DOWN\")}} className=\"nes-btn is-primary down controls-btn\">↓</button></td>\r\n                        <td></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        )\r\n    }\r\n    render(){\r\n        return(\r\n            <div className=\" nes-container controls\">{this.renderControls()}</div>\r\n        )\r\n    }\r\n}\r\n\r\nControls.contextType = GameContext;\r\nexport default Controls;\r\n","import React from 'react';\r\nimport GameContext from '../../contexts/GameContext';\r\nimport './Modal.css';\r\n\r\nclass Modal extends React.Component{\r\n    componentDidMount() {\r\n        window.addEventListener('keypress', (e) => {\r\n            switch(e.which){\r\n                case 13: return this.context.setShowMenu();\r\n                default: return null;\r\n            }\r\n        })\r\n    }\r\n    renderModal() {\r\n        if(!this.context.showMenu){\r\n            return(\r\n                <div></div>\r\n            )\r\n        }\r\n        let className = \"nes-container modal\"\r\n        if(!this.context.showMenu){\r\n            className = \"nes-container modal hidden\";\r\n        }\r\n        return (\r\n            <React.Fragment>\r\n            <div className={className} style={{width: \"100vw\", minHeight: \"100vh\"}}>\r\n            <h1 style={{textAlign:\"center\"}}>SNAAAAAKE</h1>\r\n            <h4 style={{textAlign:\"center\"}}><a href=\"https://github.com/CannonFodderr/reactsnake\">Fork me on GitHub</a></h4>\r\n            <button style={{width: \"100%\"}} className=\"nes-btn is-error\" onClick={() => {this.context.setShowMenu()}}>\r\n                <span className=\"start-btn\">START</span>\r\n            </button>\r\n                {this.props.children}\r\n                <hr/>\r\n                <h4>By<a href=\"https://www.linkedin.com/in/idan-izhaki/\"> Idan Izhaki</a></h4>\r\n            </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n    render(){\r\n        return(\r\n            <div>\r\n                {this.renderModal()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nModal.contextType = GameContext;\r\nexport default Modal;","import React from 'react';\r\nimport GameContext from '../../contexts/GameContext';\r\n\r\nclass Field extends React.Component{\r\n    render(){\r\n        return(\r\n            <div className=\"nes-field\">\r\n                <label htmlFor=\"playerName\" style={{textAlign:\"center\"}}>Enter your name:</label>\r\n                <input \r\n                className=\"nes-input\" \r\n                name=\"playerName\" \r\n                style={{textAlign:\"center\"}}\r\n                placeholder={this.props.playerName} \r\n                onChange={(e) => {this.context.setPlayerName(e.target.value)}}\r\n                maxLength=\"8\"\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nField.contextType = GameContext;\r\nexport default Field;","import React from 'react';\r\n\r\nclass Tutorial extends React.Component{\r\n    render(){\r\n        return(\r\n            <div>\r\n                <h5><i className=\"nes-logo\" />MOVEMENT</h5>\r\n                <ul>\r\n                <li> Use W A S D with keyboard </li>\r\n                <li> Use Arrows on screen with touch devices </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Tutorial;","import React from 'react';\r\nimport GameContext from '../../contexts/GameContext';\r\n\r\nclass LeaderBoard extends React.Component{\r\n    renderLeaderBoards(){\r\n        if(this.context.leaderBoards.length === 0){\r\n            return <tr style={{textAlign:\"center\", background: \"#3e3e\"}}><td>Loading...</td></tr>\r\n        } else {\r\n            return this.context.leaderBoards.map((item, index) => {\r\n                if(index === 0){\r\n                    return <tr key={item._id} style={{textAlign:\"center\", background: \"#3e3e\"}}><td>{item.name}</td><td> {item.score}</td></tr>\r\n                }\r\n                return <tr key={item._id} style={{textAlign:\"center\"}}><td>{item.name}</td><td> {item.score}</td></tr>\r\n            });\r\n        }\r\n    }\r\n    render(){\r\n        return(\r\n            <div>\r\n            <h3 style={{textAlign:\"center\"}}>LEADERBOARDS</h3>\r\n            <table className=\"nes-table is-centered is-bordered\" style={{width: \"100%\"}}>\r\n                <tbody>\r\n                <tr style={{background:\"#000\", color:\"#fff\", borderRadius: \"25%\", letterSpacing:\"0.5em\"}}>\r\n                    <th>NAME</th>\r\n                    <th>SCORE</th>\r\n                </tr>\r\n                {this.renderLeaderBoards()}\r\n                </tbody>\r\n            </table>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nLeaderBoard.contextType = GameContext;\r\nexport default LeaderBoard;","import React from 'react';\r\nimport GameContext from '../../contexts/GameContext';\r\n\r\nclass VolumeControls extends React.Component{\r\n    renderCheckBox = () => {\r\n        return(\r\n            <label>\r\n                <input type=\"checkbox\" className=\"nes-checkbox\" checked={this.context.isMuted} onChange={() => {this.context.muteAudio()}}/>\r\n                <span>Mute Sound</span>\r\n            </label> \r\n        )\r\n    }\r\n    renderControls = () => {\r\n        if(this.context.isMuted){\r\n            return <div>{ this.renderCheckBox() }</div>\r\n        }\r\n        return (\r\n        <div>\r\n            { this.renderCheckBox () }\r\n            <div>\r\n                <button className=\"nes-btn\" onClick={() => {this.context.adjustAudioVolume(-5)}}>-</button>\r\n                <button className=\"nes-btn\" onClick={() => {this.context.adjustAudioVolume(5)}}>+</button>\r\n                <progress className=\"nes-progress is-primary\" value={this.context.volume + 60} max=\"100\"></progress>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n    render(){\r\n        return (\r\n            <div className=\"nes-container\">\r\n                <h4 className=\"title\">Audio Setup</h4>\r\n                {this.renderControls()}\r\n            </div>\r\n        )\r\n        }\r\n    }\r\n    \r\n    VolumeControls.contextType = GameContext;\r\n    export default VolumeControls;","import React from 'react';\r\nimport {GameContextStore} from '../contexts/GameContext';\r\n\r\nimport GameBoard from './GameBoard/GameBoard';\r\nimport Controls from './Controls/Controls';\r\nimport Modal from './Modal/Modal';\r\nimport Field from './Field/Field';\r\nimport Tutorial from './Tutorial/Tutorial';\r\nimport LeaderBoard from './LeaderBoard/LeaderBoard';\r\nimport VolumeControls from './VolumeControls/VolumeControls';\r\n\r\nclass App extends React.Component{\r\n    render(){\r\n        return(\r\n            <div>\r\n                <GameContextStore>\r\n                    <GameBoard />\r\n                    <Controls />\r\n                    <Modal>\r\n                        <div>\r\n                            <Field playerName=\"Player 1\"/>\r\n                            <Tutorial />\r\n                            <VolumeControls />\r\n                            <LeaderBoard />\r\n                        </div>\r\n                    </Modal>\r\n                </GameContextStore>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './components/App';\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}